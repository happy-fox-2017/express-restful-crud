<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Bootstrap 101 Template</title>
    <style media="screen">

      h1.text-center.title {
        padding-bottom: 21px;
      }

      .container.main {
        margin-top: 23px;
      }
      .close-button {
        position: absolute;
        top: 18px;
        right: 14px;
      }
      .edit-button {
        position: absolute;
        top: 19px;
        right: 46px;
      }
      button.btn.btn-default.btn-lg {
        position: absolute;
        right: 88px;
        top: 29px;
      }
      span.created-at {
        font-size: x-small;
        font-style: oblique;
      }
    </style>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!-- [if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif] -->
  </head>
  <body>
    <div class="container main">
      <div class="row">
        <h1 class="text-center title">Todo Apps</h1>
          <% userTodos.forEach(userTodo => { %>
            <div class="col-md-4 col-sm-6 col-xs-12">
            <div class="panel panel-default">
              <div class="text-center panel-heading"><%=  userTodo.email %></div>
              <% var todos = userTodo.Todos %>
              <% todos.forEach(todo => { %>
                <div class="row">
                  <div class="col-md-12">
                    <div class="panel-body"><%= todo.title %><br><span class="created-at">Created At: <%= todo.createdAt %></span>
                      <div class="edit-button">
                        <a href="/todos/edit/<%= todo.id %>"><span class=" glyphicon glyphicon-pencil"></span></a>
                      </div>
                      <div class="close-button">
                        <a href="/todos/delete/<%= todo.id%>"><span class="glyphicon glyphicon-remove close-button"></span></a>
                      </div>
                    </div>
                  </div>
                </div>

              <% }) %>
            </div>
          </div>
          <% }) %>
          <a href="/todos/create">
            <button type="button" class="btn btn-default btn-lg">
              <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
            </button>
          </a>




      </div>
    </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
  </body>
</html>
